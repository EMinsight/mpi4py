# Add Intel MPI to Python 3.8+ DLL search path on Windows
import os; I_MPI_ROOT = os.getenv('I_MPI_ROOT')
import os; I_MPI_LIBRARY_KIND = os.getenv('I_MPI_LIBRARY_KIND')
import os; library_kind = os.getenv('library_kind') or 'release'
import os; kind = I_MPI_LIBRARY_KIND or library_kind
import os; d1 = I_MPI_ROOT and os.path.join(I_MPI_ROOT, 'bin')
import os; d2 = I_MPI_ROOT and os.path.join(I_MPI_ROOT, 'bin', kind)
import os; dirs = [None]; dll = 'impi.dll';
import os; d1 and os.path.exists(os.path.join(d1, dll)) and dirs.append(d1)
import os; d2 and os.path.exists(os.path.join(d2, dll)) and dirs.append(d2)
import os; dlldir = dirs.pop()
import os; add_dll_directory = getattr(os, 'add_dll_directory', None)
import os; add_dll_directory and dlldir and add_dll_directory(dlldir)
